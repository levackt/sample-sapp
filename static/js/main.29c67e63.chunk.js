(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{231:function(e,t){},309:function(e,t,n){e.exports=n(535)},310:function(e,t,n){},317:function(e,t){},341:function(e,t){},343:function(e,t){},353:function(e,t){},355:function(e,t){},397:function(e,t){},402:function(e,t){},404:function(e,t){},428:function(e,t){},485:function(e,t){},535:function(e,t,n){"use strict";n.r(t);n(310);var r,a=n(0),c=n.n(a),o=n(15),i=n.n(o),u=n(29),l=function(e){r=e.error};function s(e){var t="string"===typeof e?e:e.toString();l({error:t})}function d(){l({})}var p=a.createContext({setError:s,clearError:d}),m=function(){return a.useContext(p)};function f(e){var t=a.useState({}),n=Object(u.a)(t,2),c=n[0],o=n[1];l=o,r&&(o({error:r}),r=void 0);var i={error:c.error,setError:s,clearError:d};return a.createElement(p.Provider,{value:i},e.children)}var g=n(6),x=n.n(g),b=n(27),h=n(293),v=n(103),E=n(56);function w(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=E.Bip39.encode(E.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}function y(){return j.apply(this,arguments)}function j(){return(j=Object(b.a)(x.a.mark((function e(){var t,n,r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),e.next=3,v.Secp256k1Pen.fromMnemonic(t);case 3:return n=e.sent,r=Object(v.encodeSecp256k1Pubkey)(n.pubkey),a=Object(v.pubkeyToAddress)(r,"secret"),c=function(e){return n.sign(e)},e.abrupt("return",{address:a,signer:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e,t){var n=function(e,t,n){return{amount:[{amount:Math.floor(e*n).toString(),denom:t}],gas:e.toString()}};return{upload:n(1e6,e,t),init:n(5e5,e,t),exec:n(2e5,e,t),send:n(8e4,e,t)}};function k(){return(k=Object(b.a)(x.a.mark((function e(t,n){var r,a,c,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,a=n.signer,c=v.EnigmaUtils.GenerateNewSeed(),o=new v.SigningCosmWasmClient(t,r,a,c,S("uscrt",1)),e.abrupt("return",{address:r,client:o});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={loading:!0,address:"",getClient:function(){throw new Error("not yet initialized")}},C=a.createContext(O),I=function(){return a.useContext(C)};function T(e){return a.createElement(F,{config:e.config,loadWallet:y},e.children)}function F(e){var t=Object(a.useState)(O),n=Object(u.a)(t,2),r=n[0],c=n[1],o=m().setError,i=e.config,l=e.loadWallet;return Object(a.useEffect)((function(){l().then((function(e){return function(e,t){return k.apply(this,arguments)}(i.httpUrl,e)})).then(function(){var e=Object(b.a)(x.a.mark((function e(t){var n,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,r=t.client,!i.faucetUrl){e.next=14;break}return e.prev=2,e.next=5,r.getAccount();case 5:if(null===(o=e.sent)||void 0===o||null===(a=o.balance)||void 0===a?void 0:a.length){e.next=9;break}return e.next=9,h.a.post(i.faucetUrl,{json:{ticker:"SCRT",address:n}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:c({loading:!1,address:n,getClient:function(){return r}});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()).catch(o)}),[i.httpUrl,i.faucetUrl,l,o]),a.createElement(C.Provider,{value:r},e.children)}function A(){}var z=a.createContext({refreshAccount:A}),N=function(){return a.useContext(z)};function R(e){var t=a.useState({}),n=Object(u.a)(t,2),r=n[0],c=n[1],o=I(),i=o.loading,l=o.getClient,s=m().setError,d=function(){i||l().getAccount().then((function(e){return c({account:e})})).catch(s)};a.useEffect(d,[i,l,s]);var p={refreshAccount:d,account:r.account};return a.createElement(z.Provider,{value:p},e.children)}var W=n(576),M=n(573),P=Object(M.a)({root:{height:"40px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"20px",fontWeight:500,color:"#3d5af1",boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"},"&:active":{boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"}}});function U(e){var t=P();return a.createElement(W.a,Object.assign({disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,className:t.root},e))}var B=n(590),D=n(579);function L(e){var t=e.error,n=e.clearError;return a.createElement(B.a,{severity:"error",onClose:n},a.createElement(D.a,null,"Error"),t)}var q=n(581),G=n(582),H=n(578),_=n(120),J=n(580),V=n(591),$=n(85),K=n(33);function Q(e){if(!e)return"0";if(e.denom.startsWith("u")){var t=e.denom.slice(1).toUpperCase();return K.Decimal.fromAtomics(e.amount,6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function X(e){var t=e.children,n=Object(J.a)({disableHysteresis:!0,threshold:0});return a.cloneElement(t,{elevation:n?4:0})}function Y(e,t){var n=e.account,r=e.address,c=(e.children,n?function(e){return e&&0!==e.length?e.map(Q).join(", "):"\u2013"}(n.balance):a.createElement("span",null,"(No funds - Go get some"," ",a.createElement("a",{href:"https://faucet.pub.testnet.enigma.co",rel:"noopener noreferrer",target:"_blank"},"from the faucet"),")"));return a.createElement(a.Fragment,null,a.createElement(X,t,a.createElement(q.a,null,a.createElement(G.a,null,a.createElement($.b,{to:"/"},a.createElement(H.a,{edge:"start",color:"inherit"},a.createElement(V.a,null))),a.createElement(_.a,{variant:"h6"},r," - ",c)))),a.createElement(G.a,null))}function Z(){return a.createElement(_.a,{variant:"h2"},"Loading Wallet...")}var ee=n(583),te=n(592),ne=Object(M.a)((function(e){return Object(te.a)({root:{flexGrow:1,height:"102vh",background:"#ebf5fc"}})}));function re(e){var t=e.children,n=ne();return a.createElement(ee.a,{className:n.root,container:!0,spacing:3,justify:"center"},a.createElement(ee.a,{item:!0,xs:12,sm:10,md:8},t))}var ae=n(34),ce=Object(M.a)((function(e){var t,n,r;return Object(te.a)({contractLogicContainer:{display:"flex",flexDirection:"column",alignItems:"center"},card:(n={width:"80vw",margin:"10px",padding:"20px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)",borderRadius:"25px",maxWidth:"600px","& ul":Object(ae.a)({listStyleType:"none",padding:"0",margin:"0"},e.breakpoints.up("sm"),{marginBlockStart:"1em",marginBlockEnd:"1em"}),"& li":(t={display:"grid",gridTemplateColumns:"1fr",fontSize:".75em","& p:first-child":{marginBottom:".2em"},"& p:last-child":{marginTop:".2em"}},Object(ae.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"25% 75%",fontSize:".9em","& p:first-child":{margin:".5em 0.05em"},"& p:last-child":{margin:".5em 0.05em"}}),Object(ae.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"20% 80%",fontSize:"1em","& p:first-child":{margin:".5em 0.1"},"& p:last-child":{margin:".5em .1em"}}),t),"& li p:first-child":{color:"#3d5af1"}},Object(ae.a)(n,e.breakpoints.up("sm"),{width:"75vw",margin:"20px",padding:"30px 20px"}),Object(ae.a)(n,e.breakpoints.up("md"),{width:"60vw",padding:"30px 40px"}),n),listCardContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},listCard:(r={flexDirection:"column-reverse",textAlign:"center",width:"95vw",margin:"5px",padding:"10px 5px",borderRadius:"116px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"inset -5px -5px 10px rgba(255,255,255,0.5), inset 5px 5px 10px rgba(0,0,0,0.05)"},"& .MuiListItemText-secondary":{fontSize:"13px"}},Object(ae.a)(r,e.breakpoints.up("sm"),{width:"70vw",margin:"20px",padding:"30px 40px","& .MuiListItemText-secondary":{fontSize:"14px"}}),Object(ae.a)(r,e.breakpoints.up("md"),{flexDirection:"row",textAlign:"left",width:"60vw","& .MuiListItemText-secondary":{fontSize:"15px"}}),r),link:{textDecoration:"none",color:"#3d5af1"},form:Object(ae.a)({height:"150px",display:"flex",flexDirection:"column",justifyContent:"space-around",maxWidth:"600px",padding:"10px","& p":{fontSize:"0.75rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"0"}},e.breakpoints.up("sm"),{height:"150px",justifyContent:"space-around",margin:"20px",padding:"20px","& p":{fontSize:"1rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"3px"}}),input:{display:"flex","& input":{height:"30px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"18px",color:"#3d5af1",boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1);"}},bottomSpacer:{marginBottom:"8px"}})}));var oe=function(){var e=m(),t=e.error,n=e.clearError;return t?a.createElement(L,{error:t,clearError:n}):a.createElement("div",null)};var ie=function(e){return I().loading?a.createElement(a.Fragment,null,a.createElement(Z,null),a.createElement(oe,null)):a.createElement(re,null,e.children)},ue={httpUrl:"https://bootstrap.pub.testnet.enigma.co",faucetUrl:"https://faucet.pub.testnet.enigma.co/credit",codeId:93},le=n(14),se=n(587),de=n(593),pe=n(584),me=n(585),fe=n(586),ge=n(298),xe=n.n(ge);function be(e){var t=e.address,n=e.label,r=ce();return a.createElement("div",{className:r.listCardContainer},a.createElement($.b,{className:r.link,to:"/contract/".concat(t)},a.createElement(pe.a,{className:r.listCard},a.createElement(me.a,null,a.createElement(de.a,null,a.createElement(xe.a,null))),a.createElement(fe.a,{primary:n,secondary:t}))))}var he=ue.codeId;var ve=function(){var e=I().getClient,t=m().setError,n=a.useState([]),r=Object(u.a)(n,2),c=r[0],o=r[1];return a.useEffect((function(){e().getContracts(he).then((function(e){return o(e)})).catch(t)}),[e,t]),a.createElement(se.a,null,c.map((function(e){return a.createElement(be,Object.assign({},e,{key:e.address}))})))};var Ee=function(){var e=N().account,t=I().address;return a.createElement(Y,{account:e,address:t})},we=n(36),ye=n(118),je=n(302),Se=n(589),ke=function(e){var t=e.type,n=e.placeholder,r=e.InputProps,c=Object(je.a)(e,["type","placeholder","InputProps"]),o=Object(ye.c)(c),i=Object(u.a)(o,2),l=i[0],s=i[1],d=s.error&&s.touched?s.error:"";return"number"===t?a.createElement(Se.a,Object.assign({id:"outlined-number",variant:"outlined",type:t,label:n,InputProps:r},l,{helperText:d,error:!!d})):a.createElement(Se.a,Object.assign({type:t,placeholder:n,InputProps:r,fullWidth:!0},l,{helperText:d,error:!!d}))},Oe=n(192),Ce=Oe.b().shape({countField:Oe.a().min(0,"Count invalid").required("Count is required")}),Ie=function(e){var t=e.handleReset,n=e.loading,r=ce();return a.createElement(ye.b,{initialValues:{countField:"0"},validationSchema:Ce,onSubmit:function(){var e=Object(b.a)(x.a.mark((function e(n,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.countField,(0,r.setSubmitting)(!0),t({countField:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit;return a.createElement(ye.a,{onSubmit:t,className:r.form},a.createElement("div",{className:r.input},a.createElement(ke,{placeholder:"0",name:"countField",type:"integer"})),a.createElement("div",null,a.createElement(U,{type:"submit",disabled:n},"Reset")))}))},Te=n(588);function Fe(e){var t=ce(),n=e.contractAddress,r=I().getClient,c=m().setError,o=N().refreshAccount,i=a.useState({loading:!1}),l=Object(u.a)(i,2),s=l[0],d=l[1];a.useEffect((function(){d({loading:!0}),r().queryContractSmart(n,{get_count:{}}).then((function(e){d({count:e.count,loading:!1})})).catch((function(e){d({loading:!1}),e.toString().includes("Failed to get counter")||c(e)}))}),[r,c,n]);var p=function(){var t=Object(b.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d({loading:!0}),t.prev=1,t.next=4,r().execute(e.contractAddress,{increment:{}});case 4:return d({loading:!1}),o(),t.next=8,r().queryContractSmart(n,{get_count:{}}).then((function(e){d({count:e.count,loading:!1})})).catch((function(e){d({loading:!1}),e.toString().includes("Failed to get counter")||c(e)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),d({loading:!1}),c(t.t0);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(b.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.countField,d({loading:!0}),t.prev=2,t.next=5,r().execute(e.contractAddress,{reset:{count:parseInt(a)}});case 5:d({count:a,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),d({loading:!1}),c(t.t0);case 12:try{o()}catch(i){c("Failed to reset account")}case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return a.createElement("div",{className:t.card},a.createElement(_.a,{variant:"h6"},"Counter: ",s.loading?a.createElement(Te.a,null):s.count),a.createElement(U,{color:"primary",type:"submit",onClick:p,disabled:s.loading},"Increment"),a.createElement(Ie,{handleReset:f,loading:s.loading}))}var Ae={address:""};var ze=function(e){var t=e.address,n=(e.name,ce()),r=I().getClient,c=m().setError,o=a.useState(Ae),i=Object(u.a)(o,2),l=(i[0],i[1]);return a.useEffect((function(){r().getContract(t).then((function(e){return l(Object(we.a)(Object(we.a)({},e),{},{address:t}))})).catch(c)}),[c,t,r]),a.createElement("div",{className:n.contractLogicContainer},a.createElement(Fe,{contractAddress:t}))};var Ne=function(){var e=Object(le.f)().address;return c.a.createElement(ze,{address:e||""})},Re=function(){return c.a.createElement($.a,{basename:"/"},c.a.createElement(Ee,null),c.a.createElement(oe,null),c.a.createElement(le.c,null,c.a.createElement(le.a,{exact:!0,path:"/",component:ve}),c.a.createElement(le.a,{exact:!0,path:"/contract/:address",component:Ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(){return(We=Object(b.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=3;break}return e.next=3,navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me,Pe=document.getElementById("root");Me=Re,i.a.render(c.a.createElement(f,null,c.a.createElement(T,{config:ue},c.a.createElement(R,null,c.a.createElement(ie,null,c.a.createElement(Me,null))))),Pe),function(){We.apply(this,arguments)}()}},[[309,1,2]]]);
//# sourceMappingURL=main.29c67e63.chunk.js.map